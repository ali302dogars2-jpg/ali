<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Multi Bot Auto OTP Sender</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  background:#0f172a;
  margin:0;
  padding:0;
  font-family:system-ui;
  color:white;
}

.wrapper {
  max-width:420px;
  margin:auto;
  padding:16px;
}

.card {
  background:rgba(255,255,255,0.05);
  border-radius:20px;
  border:1px solid #243046;
  padding:18px;
  backdrop-filter: blur(12px);
}

h1 {
  text-align:center;
  font-size:1.3rem;
  margin:0;
  padding-bottom:4px;
}

.sub {
  text-align:center;
  color:#9ca3af;
  font-size:0.82rem;
  margin-bottom:16px;
}

.bot-box {
  background:#111827;
  padding:10px;
  border-radius:12px;
  border:1px solid #1f2937;
  margin-bottom:12px;
}

label {
  font-size:0.75rem;
  color:#9ca3af;
  padding-bottom:3px;
  display:block;
}

input {
  width:100%;
  padding:9px;
  font-size:0.9rem;
  border-radius:8px;
  border:1px solid #374151;
  background:#020617;
  color:white;
  margin-bottom:10px;
}

.btn {
  width:100%;
  padding:12px;
  border-radius:14px;
  border:none;
  font-size:0.9rem;
  font-weight:600;
  margin-bottom:10px;
  cursor:pointer;
}

.btn-add { background:#3b82f6; color:white; }
.btn-start { background:#22c55e; color:white; }
.btn-stop { background:#ef4444; color:white; }

#status {
  text-align:center;
  font-size:0.85rem;
  margin-top:6px;
  min-height:20px;
}

.bot-container {
  max-height:330px;
  overflow-y:auto;
}

.stats {
  background:#111827;
  padding:12px;
  border-radius:12px;
  border:1px solid #1f2937;
  margin-bottom:12px;
  font-size:0.85rem;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px;
}

.stat-item {
  background:#020617;
  padding:8px;
  border-radius:8px;
  text-align:center;
}

.stat-label {
  color:#9ca3af;
  font-size:0.75rem;
  margin-bottom:3px;
}

.stat-value {
  color:#3b82f6;
  font-weight:600;
  font-size:1.1rem;
}

</style>
</head>
<body>

<div class="wrapper">
<div class="card">

<h1>Multi Bot Auto OTP Sender</h1>
<div class="sub">Screenshot-Style Telegram Message + Inline Button</div>

<div id="stats" class="stats" style="display:none;">
  <div class="stat-item">
    <div class="stat-label">üì§ SENT</div>
    <div class="stat-value" id="sentCount">0</div>
  </div>
  <div class="stat-item">
    <div class="stat-label">‚ùå FAILED</div>
    <div class="stat-value" id="failedCount">0</div>
  </div>
  <div class="stat-item">
    <div class="stat-label">‚è±Ô∏è NEXT IN</div>
    <div class="stat-value" id="nextIn">10s</div>
  </div>
  <div class="stat-item">
    <div class="stat-label">ü§ñ ACTIVE BOT</div>
    <div class="stat-value" id="activeBotId">-</div>
  </div>
</div>

<div id="botContainer" class="bot-container"></div>

<button class="btn btn-add" onclick="addBot()">+ Add Bot</button>
<button class="btn btn-start" onclick="startAuto()">START</button>
<button class="btn btn-stop" onclick="stopAuto()">STOP</button>

<div id="status"></div>

</div>
</div>

<script>
let intervalId=null;
let botCounter=1;
let bots=[];
let stats={sent:0,failed:0};
let countdownInterval=null;

const countries=[
  {name:"Nigeria",code:"+234",flag:"üá≥üá¨"},
  {name:"Pakistan",code:"+92",flag:"üáµüá∞"},
  {name:"United States",code:"+1",flag:"üá∫üá∏"},
  {name:"India",code:"+91",flag:"üáÆüá≥"},
  {name:"UAE",code:"+971",flag:"üá¶üá™"}
];

const services=[
  {key:"whatsapp",name:"Whatsapp"},
  {key:"facebook",name:"Facebook"},
  {key:"gmail",name:"Gmail"},
  {key:"instagram",name:"Instagram"},
  {key:"tiktok",name:"TikTok"},
];

const rand=(a,b)=>Math.floor(Math.random()*(b-a+1))+a;
const pick=arr=>arr[rand(0,arr.length-1)];

function genOtp(){
  const s=String(rand(100000,999999));
  return `${s.slice(0,3)}-${s.slice(3)}`;
}

function genPhone(c){
  return `${c.code}${rand(100,999)}‚Ä¢‚Ä¢‚Ä¢‚Ä¢${rand(1000,9999)}`;
}

function sendToTelegram(bot,text){
  return fetch(`https://api.telegram.org/bot${bot.token}/sendMessage`,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      chat_id:bot.chatId,
      text:text,
      parse_mode:"Markdown",
      reply_markup:{
        inline_keyboard:[
          [
            { text:"üì± Free Number Channel", url:"https://t.me/dogar9999" }
          ]
        ]
      }
    })
  });
}

function saveBots(){localStorage.setItem("mb",JSON.stringify(bots));}
function loadBots(){
  const s=localStorage.getItem("mb");
  if(s){ bots=JSON.parse(s); botCounter=bots.length+1; renderBots(); }
  else addBot();
}

function addBot(){
  const commonChatId=bots.length>0?bots[0].chatId:"";
  bots.push({id:botCounter,token:"",chatId:commonChatId,label:`Bot ${botCounter}`});
  botCounter++; saveBots(); renderBots();
}

function removeBot(id){
  bots=bots.filter(b=>b.id!==id);
  saveBots(); renderBots();
}

function updateBot(id,token,chat){
  const b=bots.find(x=>x.id===id);
  if(b){ 
    b.token=token; 
    b.chatId=chat;
    bots.forEach(bot=>bot.chatId=chat);
    saveBots(); 
  }
}

function renderBots(){
  let h="";
  bots.forEach(b=>{
    h+=`
    <div class="bot-box">
      <div style="font-size:.82rem;margin-bottom:5px;">
        ${b.label}
        ${bots.length>1?`<button onclick="removeBot(${b.id})" style="float:right;background:#ef4444;color:white;border:none;padding:2px 6px;border-radius:6px;">X</button>`:""}
      </div>
      <label>Bot Token</label>
      <input value="${b.token}" onchange="updateBot(${b.id},this.value,document.getElementById('c${b.id}').value)">
      <label>Chat ID</label>
      <input id="c${b.id}" value="${b.chatId}" onchange="updateBot(${b.id},document.querySelector('#botContainer input').value,this.value)">
    </div>`;
  });
  document.getElementById("botContainer").innerHTML=h;
}

function startAuto(){
  if(intervalId){
    document.getElementById("status").innerHTML="Already Running!";
    return;
  }

  const valid=bots.filter(b=>b.token && b.chatId);
  if(!valid.length){
    document.getElementById("status").innerHTML="Fill at least 1 bot.";
    return;
  }

  stats={sent:0,failed:0};
  document.getElementById("stats").style.display="grid";
  document.getElementById("status").innerHTML="Started!";
  let index=0;
  let countdown=10;

  const updateCountdown=()=>{
    document.getElementById("nextIn").innerHTML=countdown+"s";
    countdown--;
    if(countdown<0) countdown=10;
  };

  updateCountdown();
  countdownInterval=setInterval(updateCountdown,1000);

  intervalId=setInterval(()=>{

    const bot=valid[index];
    const country=pick(countries);
    const service=pick(services);
    const otp=genOtp();
    const phone=genPhone(country);

    const fullMsg=`Your ${service.name} code ${otp}
Dont share this code with others`;

    const text =
`üì± *${service.name} ${country.name}${country.flag}*
*MESSAGE RECEIVED!*

‚è∞ *Time:* \`${new Date().toISOString().slice(0,19).replace("T"," ")}\`
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üåç *Country:* ${country.name}${country.flag}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚öôÔ∏è *Service:* ${service.name}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìû *Number:* ${phone}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üîê *OTP:* *${otp}*
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìÑ *Full Message:*
\`\`\`
${fullMsg}
\`\`\`

üëÄ Ÿà€Å ÿßÿ™ŸÅÿßŸÇ ÿ≥€í ÿ±ÿßÿ≥ÿ™€í ŸÖ€å⁄∫ ŸÖŸÑ ÿ¨ÿßÿ¶€í ⁄©€Å€å⁄∫!!
ÿ®ÿ≥! ÿßÿ≥€å ÿ¥ŸàŸÇ ŸÜ€í €ÅŸÖ€å⁄∫ ÿ¢Ÿàÿßÿ±€Å ÿ®ŸÜÿß ÿØ€åÿß ‚ù§Ô∏è
`;

    sendToTelegram(bot,text).then(r=>{
      if(r.ok) stats.sent++;
      else stats.failed++;
      document.getElementById("sentCount").innerHTML=stats.sent;
      document.getElementById("failedCount").innerHTML=stats.failed;
    }).catch(()=>{
      stats.failed++;
      document.getElementById("failedCount").innerHTML=stats.failed;
    });

    document.getElementById("activeBotId").innerHTML=bot.label;
    index=(index+1)%valid.length;
    countdown=10;

  },10000);
}

function stopAuto(){
  clearInterval(intervalId);
  intervalId=null;
  clearInterval(countdownInterval);
  countdownInterval=null;
  document.getElementById("status").innerHTML="Stopped.";
}

loadBots();
</script>

</body>
</html>
